# Laravel + Lighthouse PHP

## Project
Схема GraphQL с описанием всех схем, запросов и мутаций находится в директории graphql.

В схеме были использованы:
* пагинация;
* привязка отношений (в т.ч. вложенная;
* валидация.

Для создания мутации был использован генерируемый Lighthouse класс, в котором описывалась логика.

Для обработки входящих данных мутации было принято решение использовать DTO, что позволяет не беспокоиться о целостности поступающих данных.

## Usage
Для запуска проекта нам понадобится докер.

1. Дублируем `.env.example` и переименовываем в `.env`. Указываем желаемые логин и пароль от БД, а также UNIX_USER и UNIX_UID

2. Собираем все контейнеры с помощью команды `docker compose up -d`

3. Устанавливаем зависимости composer в контейнере app - `composer install`

4. Генерируем ключ приложения с помощью команды `php artisan key:generate`

5. Проводим миграции в контейнере app - `php artisan migrate:fresh --seed`


## Сущности
Работа ведется с сущностями User, UserStatus, Specialization.

User и UserStatus имеют связь Один-к-одному.

User и Specialization имеют связь Один-ко-многим через промежуточную модель UserSpecialization.
